<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ appName() }} | {% block title %}{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:site_name" content="{{appName()}}">
  <meta name="theme-color" content="#E91E63">

  <link rel="stylesheet" href="/static/css/tailwind.css">
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css">

  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>
</head>
<body class="flex flex-col h-screen overflow-y-none">

  <!--<div class="modal" id="modaldisplayer">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="modaldata" id="contentmodal">
        waiting for user click about score
      </div>
    </div>
  </div>-->

  <!-- header -->
  <nav id="navbar" class="navbar is-primary">
    <div class="navbar-brand">
      <a class="navbar-item navbar-logo" href="/home">
        {{ appName() }}
      </a>

      <a role="button" class="navbar-burger" id="navbar-burger" onclick="togglenavbar()">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="navbar" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="/home">
          Home
        </a>

        <a class="navbar-item" href="/lb">
          Leaderboards
        </a>

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            Information
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/docs">
              Documentation
            </a>
            <a class="navbar-item" href="/doc/rules">
              Rules
            </a>
            <a class="navbar-item" href="/discord">
              Discord
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item" href="https://github.com/Yo-ru/gulag-web/issues/new">
              Report an issue
            </a>
          </div>
            -->
          {% if session.authenticated and session.user_data['is_staff'] %}
          <a class="flex items-center px-2 border-b-2 mt-0.5 hover:text-accent-300 
          {% if request.path.startswith('/admin') %}text-accent-300 border-accent-300{% else %}
          border-transparent{% endif %}" href="/admin">
            <p class="text-sm font-bold hidden md:contents 2xl:text-lg">Admin</p>
            <i class="text-xl mdi mdi-monitor-dashboard md:hidden"></i>
          </a>
          {% endif %}
        </div>
    </div>
    <div class="w-1/2">
      <div class="flex float-right">
        {% if session.authenticated %} 
        <button x-data="{ open: false }" @click="open = true" @click.away="open = false" class="appearance-none focus:outline-none">
          <img class="rounded-full h-8 w-8" alt="avatar" src="https://a.{{ domain() }}/{{ session.user_data['id'] }}">
          <p x-show="open" class="text-light absolute z-20 mt-16">henlo</p>
        </button> 
        <!-- TODO: make profile, settings and logout dropdown -->

        <!--{{ session.user_data['name'] }} {{ session.user_data['id'] }}
        <a class="rounded bg-accent-500 text-white py-1 px-3 hover:bg-accent-400 font-bold text-sm" href="/logout">
          Logout
        </a>
      <div class="navbar-dropdown">
            <a class="navbar-item" href="/u/">
              Profile
            </a>
            <a class="navbar-item" href="/settings">
              Settings
            </a>
          </div>
      -->
        {% else %}
        <a class="rounded bg-dark-500 text-white py-1.5 px-3 hover:bg-dark-400 font-bold text-sm mr-3" href="/login">
          Log In
        </a>
        <a class="rounded bg-accent-500 text-white py-1.5 px-3 hover:bg-accent-800 font-bold text-sm" href="/register">
          Sign Up
        </a>
        {% endif %}
      </div>
    </div>
  </nav>
  <div class="flex flex-col flex-1 overflow-y-auto bg-dark-800 w-full">
    <div class="flex-grow">
      {% block content %}
      {% endblock %}
    </div>
    <footer class="flex flex-none flex-nowrap items-center w-full px-4 py-2 bg-dark-700">
      <div class="w-1/2">
        <div class="flex float-left text-sm text-light-900">
          Â© 2021&nbsp;<a class="hover:text-accent-300" href="https://catgirl.moe">catgirl.moe</a>. All rights removed.
        </div>
      </div>
      <div class="w-1/2">
        <div class="flex float-right gap-4 text-lg text-light-900">
          <a class="hover:text-accent-300" href="/github"><i class="mdi mdi-github"></i></a>
          <a class="hover:text-accent-300" href="/discord"><i class="mdi mdi-discord"></i></a>
          <a class="hover:text-accent-300" href="/youtube"><i class="mdi mdi-youtube"></i></a>
          <a class="hover:text-accent-300" href="/twitter"><i class="mdi mdi-twitter"></i></a>
          <a class="hover:text-accent-300" href="/instagram"><i class="mdi mdi-instagram"></i></a>
        </div>
      </div>
    </footer>
  </div>
</body>

</html>
