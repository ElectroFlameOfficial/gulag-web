<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ appName() }} | {% block title %}{% endblock %}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="bruh moment">
  <meta property="og:description" content="bruh moment">
  <meta property="og:site_name" content="{{ appName() }}">
  <meta name="theme-color" content="#E91E63">

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 
  
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.materialdesignicons.com/5.4.55/css/materialdesignicons.min.css">

  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.2/dist/alpine.min.js" defer></script>
</head>
<body class="flex flex-col h-screen overflow-y-none">
  <!--<div class="modal" id="modaldisplayer">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="modaldata" id="contentmodal">
        waiting for user click about score
      </div>
    </div>
  </div>
  fuck the modal TODO
-->
  <nav class="z-10 flex items-center flex-none w-full px-2 bg-gray-600 flex-nowrap shadow-navbar">
    <div class="w-1/2 text-white">
        <div class="flex float-left h-12 gap-4 text-white">
          <a class="flex items-center text-4xl" href="/">
            <i class="mdi mdi-circle-slice-8"></i> <!--TODO: Change this to proper logo-->
          </a>
          <a class="flex items-center px-2 border-b-2 mt-0.5 hover:text-indigo-300 
          {% if request.path.startswith('/leaderboard') %}text-indigo-300 border-indigo-300
          {% else %}border-transparent{% endif %}" href="/leaderboard">
            <p class="hidden text-sm font-bold md:contents 2xl:text-lg">Leaderboard</p>
            <i class="text-xl mdi mdi-poll md:hidden"></i> 
          </a>
          <button x-data="{ open: false }" @mouseover="open = true" @mouseover.away="open = false" 
          class="flex items-center px-2 border-b-2 mt-0.5 hover:text-indigo-300 appearance-none 
          focus:outline-none {% if request.path.startswith('/doc') %}text-indigo-300 
          border-indigo-300{% else %}border-transparent{% endif %}">
            <p class="hidden text-sm font-bold md:contents 2xl:text-lg">Information</p>
            <i class="text-xl mdi mdi-information-outline md:hidden"></i> 
            <ul x-show="open" class="absolute z-20 text-sm text-left list-none mt-36 text-light">
              <li class="px-2 py-2 bg-gray-700 hover:bg-gray-600">
                <a href="/docs">
                  <i class="text-md mdi mdi-file-document-outline"></i> Docs
                </a>
              </li>
              <li class="px-2 py-2 bg-gray-700 hover:bg-gray-600">
                <a href="/doc/rules">
                  <i class="text-md mdi mdi-clipboard-list-outline"></i> Rules
                </a>
              </li>
              <li class="px-2 py-2 bg-gray-700 rounded-b-lg hover:bg-gray-600">
                <a href="/discord">
                  <i class="text-md mdi mdi-discord"></i> Discord
                </a>
              </li>
            </ul>
          </button>
            <!-- TODO: make documentation dropdown -->
            <!-- 
              <a class="navbar-link">
            Information
          </a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="/docs">
              Documentation
            </a>
            <a class="navbar-item" href="/doc/rules">
              Rules
            </a>
            <a class="navbar-item" href="/discord">
              Discord
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item" href="https://github.com/Yo-ru/gulag-web/issues/new">
              Report an issue
            </a>
          </div>
            -->
          {% if session.authenticated and session.user_data['is_staff'] %}
          <a class="flex items-center px-2 border-b-2 mt-0.5 hover:text-indigo-300 
          {% if request.path.startswith('/admin') %}text-indigo-300 border-indigo-300{% else %}border-transparent{% endif %}" href="/admin">
            <p class="hidden text-sm font-bold md:contents 2xl:text-lg">Admin</p>
            <i class="text-xl mdi mdi-monitor-dashboard md:hidden"></i>
          </a>
          {% endif %}
        </div>
    </div>
    <div class="w-1/2">
      <div class="flex float-right">
        {% if session.authenticated %} 
        <button x-data="{ open: false }" @click="open = true" @click.away="open = false" class="appearance-none focus:outline-none">
          <img class="w-8 h-8 rounded-full" alt="avatar" src="https://a.{{ domain() }}/{{ session.user_data['id'] }}">
          <p x-show="open" class="absolute z-20 mt-16 text-light">henlo</p>
        </button> 
        <!-- TODO: make profile, settings and logout dropdown -->

        <!--{{ session.user_data['name'] }} {{ session.user_data['id'] }}
        <a class="px-3 py-1 text-sm font-bold text-white bg-indigo-500 rounded hover:bg-indigo-400" href="/logout">
          Logout
        </a>
      <div class="navbar-dropdown">
            <a class="navbar-item" href="/u/">
              Profile
            </a>
            <a class="navbar-item" href="/settings">
              Settings
            </a>
          </div>
      -->
        {% else %}
        <a class="rounded bg-gray-500 text-white 
        py-1.5 px-3 hover:bg-gray-400 transform hover:scale-110 font-bold text-sm mr-3" href="/login">
          Log In
        </a>
        <a class="rounded bg-indigo-500 text-white 
        py-1.5 px-3 hover:bg-indigo-800 transform hover:scale-110 font-bold text-sm" href="/register">
          Sign Up
        </a>
        {% endif %}
      </div>
    </div>
  </nav>
  <div class="flex flex-col flex-1 w-full overflow-y-auto bg-gray-800">
    <div class="flex-grow">
      {% block content %}
      {% endblock %}
    </div>
    <footer class="flex items-center flex-none w-full px-4 py-2 bg-gray-700 flex-nowrap">
      <div class="w-1/2">
        <div class="flex float-left text-sm text-white">
          Â© 2021&nbsp;<a class="hover:text-indigo-300" href="https://{{ domain() }}">
            {{ domain() }}</a>. All rights removed.
        </div>
      </div>
      <div class="w-1/2">
        <div class="flex float-right gap-4 text-lg text-white">
          <a class="hover:text-indigo-300" href="/github"><i class="mdi mdi-github"></i></a>
          <a class="hover:text-indigo-300" href="/discord"><i class="mdi mdi-discord"></i></a>
          <a class="hover:text-indigo-300" href="/youtube"><i class="mdi mdi-youtube"></i></a>
          <a class="hover:text-indigo-300" href="/twitter"><i class="mdi mdi-twitter"></i></a>
          <a class="hover:text-indigo-300" href="/instagram"><i class="mdi mdi-instagram"></i></a>
        </div>
      </div>
    </footer>
  </div>
</body>

</html>